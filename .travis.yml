language: node_js
node_js:
- 8
cache:
  directories:
  - node_modules
script:
- npm run test:unit
after_script:
- cat ./coverage/lcov.info | coveralls
deploy:
  provider: heroku
  api_key:
    secure: Bs8wXHJpBmZ0UIKUTWhorK34Ngi+EKbOnXhv2kAhuwFGb77rr2rtsccFivFQJLKhJmBsZ74iVGwagySpvxo38GprwoIQUwvaXq11hngJNtf5Jg4lQfmptKu6OkmGXO5b9+R6tR3bSvLONPhYV2TVzLgKpVe+6kEuS7+sGZgQZISHyQS8vxMQzlw3LRQMY/NAkaEHCHONTB29r+0Y8DT3PQKGcVXkij4dRR0gi5pb01peAJT7fdBynxmES8yS8CgCz76OCGDpwci94B+SPsrNoHeLIbLEueJ6PcU4PHNHsx8pTwbXDvltj4ou64z5eOuIAd50YV65v64pNga98+tsu+nSTq41HiSv+oYAILAOv+QD+CuLkTVzqLn4Fwv5FHdBdDRJpCvg9aGef6/Pr3CPybMP1cKqc1CN+BqFyVbsYGrm8rBFnZJg1qJu4un7Bwe2eYxTd3bb7vAUIaNpC4K5r7Xmd1Pk3WIfVapW5kIrqnbOPFY9D7E8f8MI+f/GLIzj/HZkC2KfOydE+ATpREZzuLT6PbQlj4JMhkvB4spik35SbZ3UobEQf0si2tR9QDBpcEJIhjx7lZz3bbL3OqNG6l70ljaD2v/VHHYusrLqRCydbFFIUH5d+H4/s9JS1hpqkyDN76vpY+KAzXheqYVrQgxlW4DRHUboTOCHBdw77Qk=
  app: usnie-ci-test
  on:
    branch: master